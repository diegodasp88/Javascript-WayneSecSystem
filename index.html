<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/login.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/user.css">
    <link rel="stylesheet" href="css/inventary.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bruno+Ace+SC&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- charts -->
    <title>Wayne SecSystem</title>
</head>
<body>

    <main>
        <!-- Login Screen: START -->
        <section id="login">
            <div id="containerLogin">
                <img src="./assets/img/logo.png" alt="">
                <button class="tech-btn" onclick="toggleDisplays('#modalLogin', '#containerLogin')">
                    <span class="icon">login</span>
                    Login
                </button>
            </div>
            <div id="modalLogin">
                <img src="./assets/img/logo.png" alt="">
                <form>
                    <label for="emailLogin" class="labelForm">E-mail</label>
                    <div class="inputIcon">
                        <span class="iconForm">email</span>
                        <input type="email" class="inputForm" id="emailLogin" placeholder="E-mail" autocomplete="off" autofocus/>
                    </div>
                    
                    <label for="passLogin" class="labelForm">Password</label>
                    <div class="inputIcon">
                        <span class="iconForm">password</span>
                        <input type="password" class="inputForm" id="passLogin" placeholder="Password" />
                    </div>

                    <div id="loginBtn">
                        <button class="tech-btn" type="button" onclick="systemLogin()">
                            <span class="icon">login</span>
                            Login
                        </button>
                    </div>
                </form>
            </div>
            <div id="modalErrorLogin"></div>
        </section>
        <!-- Login Screen: END -->

        <!-- Home: START -->
        <section id="home">
            <div id="homeContainer">
                <header>
                    <img src="./assets/img/logo.png" alt="">
                    <h2 id="homeTitle">Admin</h2>
                    <div id="userLogged">
                        <div id="userTag">
                            <span class="icon">person</span>
                            <p>User:</p> <p id="username">x</p>
                        </div>
                        <button 
                            class="tech-btn"
                            id="logoutBtn" 
                            style="padding: 5px 15px; font-size: 14px;"
                            onclick="{
                                toggleDisplays('#login', '#home'),
                                openModal('#dashboardModal')
                            }">
                            <span class="icon">logout</span>
                            Logout
                        </button>
                    </div>
                </header>
                    
                <nav>
                    <div id="menuContainer">
                        <button 
                            class="tech-btn"
                            style="padding: 5px 15px; font-size: 14px;"
                            onclick="{
                                openModal('#dashboardModal', '.mainModal'),
                                callAllDashFunctions()
                                }">
                            <span class="icon">dashboard</span>
                            Dashboard
                        </button>
                        <button 
                            class="tech-btn"
                            style="padding: 5px 15px; font-size: 14px;"
                            onclick="{openModal('#userModal', '.mainModal'), loadUsers()}">
                            <span class="icon">people</span>
                            Users
                        </button>
                        <button 
                            class="tech-btn"
                            style="padding: 5px 15px; font-size: 14px;"
                            onclick="openModal('#inventaryModal', '.mainModal')">
                            <span class="icon">source</span>
                            Inventary
                        </button>
                    </div>
                </nav>

                <div id="homeContent">

                    <!-- Dashboard Modal: START -->
                    <section id="dashboardModal" class="mainModal">
                        <div id="dashboardModalContent">

                            <!-- Users dashboard -->
                            <div class="dashboardCard">
                                <div class="headerCard">
                                    <h3>Users</h3>
                                </div>
                                <div class="bodyCard">
                                    <aside>
                                        <p id="totalUsers"></p>
                                        <span>Total</span>
                                        <canvas id="userChart"></canvas>
                                    </aside>
                                </div>
                            </div>

                            <!-- Inventary dashboard -->
                            <div class="dashboardCard">
                                <div class="headerCard">
                                    <h3>Inventary</h3>
                                </div>
                                <div class="bodyCard">
                                    <aside>
                                        <p id="totalItems"></p>
                                        <span>Items</span>
                                        <canvas id="inventaryChart"></canvas>
                                    </aside>
                                    <div id="inventaryCards">
                                        <div class="tinyCards">
                                            <img src="#" alt="">
                                            <p>Name</p>
                                            <span>Status</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <!-- Dashboard Modal: END -->

                    <!-- User Modal: START -->
                    <section id="userModal" class="mainModal">
                        <div id="userModalContent" class="userModal">
                            <div id="createUser">
                                <button class="tech-btn" onclick="createUserModal()">
                                    <span class="icon">person_add</span>
                                    Add new user
                                </button>
                            </div>
                            <div id="userTable">
                                <table>
                                    <thead>
                                        <tr>
                                            <th style="width: 60px;">id</th>
                                            <th style="min-width: 150px;">Name</th>
                                            <th>E-mail</th>
                                            <th style="width: 120px;">Role</th>
                                            <th style="width: 250px;">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody id="userTableContent">
                                        <tr>
                                            <td>1</td>
                                            <td>2</td>
                                            <td>3</td>
                                            <td>4</td>
                                            <td style="display: flex;" id="btnUser">
                                                <button 
                                                    class="tech-btn" 
                                                    style="margin-right: 10px; font-size: 12px; padding: 5px 10px"
                                                    onclick="createNewUser()">
                                                        <span class="icon">update</span>
                                                        Update
                                                </button>
                                                <button 
                                                    class="tech-btn" 
                                                    style="margin-right: 10px; font-size: 12px; padding: 5px 10px"
                                                    onclick="removeUser()">
                                                        <span class="icon">person_remove</span>
                                                        Remove
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>                                
                                </table>
                            </div>
                        </div>

                        <!-- Create User Modal: START -->
                        <div id="createUserModal" class="userModal">
                            <div id="createUserContainer">
                                <h3 id="createUserTitle"><span class="icon">person_add</span>Create User</h3>
                                <form>
                                    <label for="userName" class="labelForm">Name:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">person</span>
                                        <input type="text" id="userName" class="inputForm" placeholder="Enter name" autocomplete="off" autofocus required>
                                    </div>

                                    <label for="userEmail" class="labelForm">Email:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">email</span>
                                        <input type="email" id="userEmail" class="inputForm" placeholder="Enter email" autocomplete="off" required>
                                    </div>

                                    <label for="userPassword" class="labelForm">Password:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">password</span>
                                        <input type="password" id="userPassword" class="inputForm" placeholder="Enter password" autocomplete="off" required>
                                    </div>

                                    <label for="userRole" class="labelForm">Role:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">account_box</span>
                                        <select id="userRole" class="inputForm" required>
                                            <option value="" disabled selected>-- Select --</option>
                                            <option value="user">User</option>
                                            <option value="manager">Manager</option>
                                            <option value="admin">Admin</option>
                                        </select>
                                    </div>
                                </form>
                                <div id="userButtons">
                                    <button class="tech-btn"
                                        id="addBtn"
                                        style="margin-right: 20px;" 
                                        onclick="createNewUser()">
                                        <span class="icon">person_add</span>
                                        Add
                                    </button>
                                    <button class="tech-btn" 
                                        id="cancelBtn"
                                        onclick="{
                                            openModal('#userModalContent', '.userModal');
                                            clearFormFields();
                                        }">
                                        <span class="icon">cancel</span>
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Create User Modal: END -->

                        <!-- User Message Modal: START -->
                        <div id="userMsgModal" class="userModal">
                            <span class="iconAttention"></span>
                            <p id="userMsg" style="margin-bottom: 20px; color: #bc8926;"></p>
                            <button type="button" class="tech-btn" id="okBtn"> OK </button>
                        </div>
                        <!-- User Message Modal: END -->

                    </section>
                    <!-- User Modal: END -->

                    <!-- Inventary Modal: START -->
                    <section id="inventaryModal" class="mainModal">
                        <div id="inventaryModalContent" class="inventaryModal">
                            <div id="createItem">
                                <button class="tech-btn" onclick="openModal('#createItemModal', '.inventaryModal')">
                                    <span class="icon">add_box</span>
                                    Add new item
                                </button>
                            </div>

                            <div id="inventaryTable">
                                <div id="itemCardsContainer">
                                    <!-- Item Cards Model: START -->
                                    <div class="itemCards">
                                        <div class="cardContainer1">
                                            <img src="./assets/img/invent01.PNG" alt="item">
                                            <div class="cardContainer2">
                                                <div class="titleCard">Title</div>
                                                <label>Catergory</label>
                                                <div class="catCard textCard">Catergory</div>
                                                <label>Security Level</label>
                                                <div class="secLvlCard textCard">Sec. Level</div>
                                            </div>
                                        </div>                                        
                                        <div class="descCard">Description</div>
                                        <div class="cardContainer3">
                                            <label>Status</label>
                                            <div class="statusCard textCard">Status</div>
                                        </div>
                                        <div class="btnCard">
                                            <button 
                                                class="tech-btn"
                                                style="padding: 1px 10px; font-size: 10px;"
                                                onclick="updateItemModal()">
                                                <span class="icon" style="font-size: 12px;">update</span>
                                                Update
                                            </button>
                                            <button 
                                                class="tech-btn"
                                                style="padding: 1px 10px; font-size: 10px;"
                                                onclick="removeItem()">
                                                <span class="icon" style="font-size: 12px;">remove</span>
                                                Remove
                                            </button>
                                        </div>
                                    </div>
                                    <!-- Item Cards Model: END -->
                                </div>
                            </div>
                            
                        </div>
                        
                        <!-- Create Item Modal: START -->
                        <div id="createItemModal" class="inventaryModal">
                            <div id="createItemContainer">
                                <h3 id="createItemTitle"><span class="icon">add_box</span>Create Item</h3>
                                <form>
                                    <label for="itemName" class="labelForm">Name:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">dvr</span>
                                        <input type="text" id="itemName" class="inputForm" placeholder="Enter name" autocomplete="off" autofocus required>
                                    </div>

                                    <label for="itemCat" class="labelForm">Category:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">category</span>
                                        <input type="text" id="itemCat" class="inputForm" placeholder="Enter category" autocomplete="off" required>
                                    </div>

                                    <label for="itemDesc" class="labelForm">Description:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">description</span>
                                        <textarea type="text" id="itemDesc" class="inputForm" placeholder="Enter short description" autocomplete="off" required></textarea>
                                    </div>

                                    <label for="itemSecLvl" class="labelForm">Security Level:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">security</span>
                                        <select id="itemSecLvl" class="inputForm" required>
                                            <option value="" disabled selected>-- Select --</option>
                                            <option value="Low">Low</option>
                                            <option value="Medium">Medium</option>
                                            <option value="High">High</option>
                                            <option value="Critical">Critical</option>
                                            <option value="Confidential">Confidential</option>
                                        </select>
                                    </div>

                                    <label for="itemStatus" class="labelForm">Status:</label>
                                    <div class="inputIcon">
                                        <span class="iconForm">toggle_on</span>
                                        <select id="itemStatus" class="inputForm" required>
                                            <option value="" disabled selected>-- Select --</option>
                                            <option value="Active">Active</option>
                                            <option value="Inactive">Inactive</option>
                                            <option value="In Testing">In Testing</option>
                                            <option value="Restricted">Restricted</option>
                                        </select>
                                    </div>
                                </form>
                                <div id="itemButtons">
                                    <button class="tech-btn"
                                        id="addItemBtn"
                                        style="margin-right: 20px;" 
                                        onclick="createNewItem()">
                                        <span class="icon">add_circle</span>
                                        Create
                                    </button>
                                    <button class="tech-btn" 
                                        id="cancelBtn"
                                        onclick="{
                                            openModal('#inventaryModalContent', '.inventaryModal');
                                            clearItemsFormFields();
                                        }">
                                        <span class="icon">cancel</span>
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Create Item Modal: END -->

                        <!-- Inventary Message Modal: START -->
                        <div id="inventaryMsgModal" class="inventaryModal">
                            <span class="iconAttention" id="iconMsg"></span>
                            <p id="inventaryMsg" style="margin-bottom: 20px; color: #bc8926;"></p> 
                            <button type="button" class="tech-btn" id="okItemBtn"> OK </button>
                        </div>
                        <!-- Inventary Message Modal: END -->

                    </section>
                    <!-- Inventary Modal: END -->

                </div>
            </div>
            
        </section>
        <!-- Home: END -->
        
    </main>


    <script src="js/script.js"></script>
    <script src="js/user.js"></script>
    <script src="js/inventary.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>